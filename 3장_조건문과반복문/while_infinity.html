<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>난수를 발생시켜 맞추는 게임</title>
</head>
<body>
    <script>
        let low = 0; //범위의 최소값
        let high = 0; //범위의 최대값
        let card = 0; // 정답 저장

        //게임의 정답을 맞추기 위해서 무한루프를 돌고있다.
        while(true) {
            let count =0; //사용자의 시도 횟수
            low = 0;
            high = 99;
            card = Math.floor(Math.random() * 100 ); //0~99까지의 난수를 발생
            alert("수를 결정하였습니다. 맞춰보세요.");
            //내부루프는 정해진 난수를 맞출 때 까지 실행하는 것.
            while(true) {
                alert(low + " - " + high); //값의 범위를 출력
                count ++; 
                alert("시도횟수 : " + count + "번째");

                n = prompt("숫자를 입력하세요!"); //사용자로부터 숫자를 입력받음.
                n = parseInt(n);

                if(n > high || n < low) {
                    alert("값의 범위를 벗어났습니다.") //예외처리
                }
                else { //정상적인 범위에 수가 입력된 경우
                    if(n == card) {
                        alert("정답입니다. 짝짝짝!");
                        break;
                    }
                    else if(n > card) { //입력된 값이 정답보다 높은 수라면
                        alert("정답은 더 낮은 수입니다.")
                        high = n; //범위를 재 지정을 위한 값을 대입하고있다.
                    }
                    else { //입력된 값이 정답보다 낮은 수라면..
                        alert("정답은 더 높은 수입니다.")
                        low = n; //범위를 재 지정을 위한 값을 대입하고있다.
                    }
                }
            }
            alert("시도횟수는 : " + count + "입니다.");

            let con = confirm("다시 게임을 하시겠습니까?");
            //무한루프를 사용할 경우에는 반드시 빠져나갈 곳을 만들어 두어야한다.
            if(con == false) {
                break; 
            }
        }


    </script>
</body>
</html>